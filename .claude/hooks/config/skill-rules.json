{
  "rules": {
    "al-development-core": {
      "type": "domain",
      "enforcement": "enforce",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "table", "page", "codeunit", "enum", "interface",
          "tableextension", "pageextension", "enumextension",
          "report", "query", "xmlport", "permissionset",
          "feature", "new", "development", "implement"
        ],
        "intentPatterns": [
          "(create|add|implement|extend).*?(table|page|codeunit|enum)",
          "(modify|update|change).*?(\\.al|AL file|object)",
          "implement.*?(feature|requirement|functionality)",
          "new.*?(object|feature|functionality)"
        ],
        "contextIndicators": [
          "app.json mentioned",
          "AL folder referenced",
          "Test folder mentioned"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "**/AL/src/**/*.al",
          "**/App/src/**/*.al",
          "**/AL/*.al",
          "**/App/*.al"
        ],
        "contentPatterns": [
          "^(table|page|codeunit|enum|report|query)",
          "extends\\s+(Table|Page|Enum)",
          "implements\\s+.*Interface"
        ]
      },
      "reminder": "üìö AL Development Core - MUST follow 6-phase workflow with Phase 3 approval"
    },

    "al-best-practices": {
      "type": "domain",
      "enforcement": "enforce",
      "priority": "high",
      "promptTriggers": {
        "keywords": [
          "best practice", "code review", "standards", "quality",
          "naming", "convention", "property", "performance",
          "security", "WITH statement", "Caption", "ToolTip"
        ],
        "intentPatterns": [
          "(code|quality).*?(review|check|standards)",
          "(naming|file).*?convention",
          "best.*?practice",
          "required.*?propert",
          "deprecated.*?feature"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "**/AL/src/**/*.al",
          "**/App/src/**/*.al"
        ]
      },
      "reminder": "‚úÖ Best Practices - MUST follow naming, properties, no WITH statements"
    },

    "al-testing-specialist": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "promptTriggers": {
        "keywords": [
          "test", "testing", "mock", "handler", "scenario",
          "coverage", "assertion", "TestField", "TestPage",
          "unit test", "integration test", "AAA pattern"
        ],
        "intentPatterns": [
          "(create|write|implement).*?test",
          "test.*?(scenario|case|procedure)",
          "mock.*?(data|response|handler)",
          "run.*?tests"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "**/Test/src/**/*.al",
          "**/Test/*.al"
        ],
        "contentPatterns": [
          "\\[Test\\]",
          "\\[HandlerFunctions\\]",
          "\\[MessageHandler\\]",
          "\\[ConfirmHandler\\]",
          "Subtype\\s*=\\s*Test"
        ]
      },
      "reminder": "üß™ Testing Specialist - MUST follow AAA pattern, min 3 test scenarios"
    },

    "al-symbols-navigator": {
      "type": "utility",
      "enforcement": "enforce",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "base object", "standard table", "system table",
          "Customer table", "Vendor table", "Item table",
          "Sales Header", "Purchase Header", "G/L Entry",
          "extend", "extension", "base BC", "symbols"
        ],
        "intentPatterns": [
          "(extend|modify|reference).*?(base|standard|system)",
          "look.*?up.*?(table|page|codeunit)",
          "check.*?base.*?object",
          "ObjectIndex",
          "Symbols.*?folder"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "**/AL/src/**/*.al",
          "**/App/src/**/*.al"
        ],
        "contentPatterns": [
          "tableextension.*extends",
          "pageextension.*extends",
          "enumextension.*extends"
        ]
      },
      "autoActivate": {
        "onMissingSymbols": true,
        "onExtensionWork": true
      },
      "reminder": "üîç Symbols Navigator - MUST verify ObjectIndex.md exists, lookup base objects"
    },

    "al-build-workflow": {
      "type": "utility",
      "enforcement": "suggest",
      "priority": "high",
      "promptTriggers": {
        "keywords": [
          "build", "compile", "publish", "deploy",
          "run tests", "container", "docker",
          "build.ps1", "publish-to-container", "run-tests"
        ],
        "intentPatterns": [
          "(build|compile).*?(app|project|code)",
          "(publish|deploy).*?(container|app)",
          "run.*?tests",
          "(build|compilation).*?(error|fail)",
          "execute.*?script"
        ]
      },
      "reminder": "üîß Build Workflow - MUST use 3-script system (build/publish/test)"
    },

    "bc-troubleshooter": {
      "type": "utility",
      "enforcement": "enforce",
      "priority": "critical",
      "promptTriggers": {
        "keywords": [
          "error", "fail", "failed", "stuck", "issue",
          "problem", "troubleshoot", "debug", "fix",
          "doesn't work", "not working", "broken",
          "can't", "cannot", "unable"
        ],
        "intentPatterns": [
          "(compilation|build).*?(error|fail)",
          "test.*?(fail|error)",
          "publish.*?(fail|error)",
          "stuck.*?(after|on|with)",
          "can't.*?(build|compile|publish|run)",
          "doesn't.*?work",
          "not.*?working",
          "how.*?fix"
        ]
      },
      "autoActivate": {
        "onError": true,
        "afterFailedAttempts": 2
      },
      "reminder": "üîç Troubleshooter - Fix one error at a time, stop after 3 attempts"
    }
  },

  "globalSettings": {
    "enableAutoActivation": true,
    "showActivationNotices": true,
    "contextThreshold": 0.2,
    "reactivateOnCompaction": true
  }
}